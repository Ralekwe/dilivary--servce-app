# makepayment

[English](makepayment.md) | [Русский](makepayment.ru.md)

Клиентское приложение для потребителя: совершение оплаты.

Сценарий оплаты в приложении службы доставки предполагает, что пользователь выбирает способ оплаты и предоставляет свою платежную информацию для завершения транзакции по своему заказу.
Приложение безопасно обрабатывает платеж и предоставляет подтверждение успешной транзакции.

Ответственные модули: [клиентское приложение](../../frontend/customerclient.ru.md), [бэкенд-сервис](../../backend/customerbackend.ru.md)

## Описание процесса

- [Приложение для клиентов](../../frontend/customerclient.md) позволяет пользователям осуществлять оплату своих заказов, используя различные способы оплаты.
- Ответственен за осуществление оплаты за заказ.
- Вызывается в рамках процесса [makeorder](makeorder.ru.md).

![placing_order_overall](../../img/placing_order_overall.png)

### Пошаговое выполнение

- Когда клиент размещает заказ, ему необходимо выбрать предпочтительный способ оплаты (см. [makeorder](makeorder.md)).
- Если они выбирают **наложенный платеж**, они подтверждают заказ и платят курьеру при получении заказа.
- Если они выберут **POS при получении**, они подтвердят заказ и оплатят его кредитной или дебетовой картой при получении заказа.
- Если они выберут **использование QR-кода**, они сканируют QR-код, предоставленный приложением, и подтвердят платеж.
     - [бэкенд-сервис для потребителя](../../backend/customerbackend.md) отправляет запрос в [fileservice](../../backend/fileservice.md) для создания QR-кода для оплаты.
- Если они выберут **использование CVC**, они введут данные своей карты и подтвердят платеж.
     - Добавьте способ оплаты после заполнения формы, если в качестве типа оплаты выбрана карта.
- Приложение подтверждает платеж и отправляет его на бэкенд сервис.

![customer.makepayment](../../img/activitydiagrams/customer.makepayment.png)

## Данные

### Объекты 

- [Payment](https://github.com/alexeysp11/workflow-lib/blob/main/docs/Models/Business/Monetary/Payment.md)
